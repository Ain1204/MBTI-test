<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="style.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
</head>
<body class="container">
    <article class="start">
        <h1 class="title">세렝게티 동물 테스트</h1>
        <div class="subtitle">내가 동물이라면?</div>
        <div class="items">
            <div class="img"><img src="image/1.png" alt=""></div></div>
        <button type="button" class="btn btn-primary btn-lg mt-5" onclick='start();'>테스트 시작하기</button>  
        <div class="textlast">made by</div>
        
    </article>
    <article class="question">
        <div class="progress">
        <div class="progress-bar" role="progressbar" aria-label="Basic example" style="width: calc(100/12*1%)"></div>
    </div>
        <div class="count1">1/12</div>
        <h1 id="title" class="t1">Q1.</h1>
        <input id="type" type="hidden" value="EI">
        <div class="st1">당신의 취미 생활은?</div>
        <div class="items1">
            <div class="img"><img src="image/1.png" alt=""></div></div>
        <div><button id="A" type="button" class="btn">바다 보러가기</button></div>
        <div><button id="B" type="button" class="btn">좋아하는 드라마 정주행</button></div>
        <!-- A버튼 눌렀을때 버튼 눌리도록 -->
    </article>
    <article class="result">
        <img id="img" class="rounded-circle mt-5" src="lion.jpg" alt="animal"/>
        <h2 id="animal" class="text-center mt-5">동물이름</h2>
        <h3 id="explain" class="text-center mt-5">설명</h3>
    </article>
    <!-- 바깥에는 안보이게 태그 정리할때 hidden 사용 -->
    <input type="hidden" id="EI" value="0">
    <input type="hidden" id="SN" value="0">
    <input type="hidden" id="TF" value="0">
    <input type="hidden" id="JP" value="0">
    
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script> 
    <script>
        var num =1;
        var q = {
            1: {"title" : "문제 1번", "type": "EI", "A": "E", "B": "I"},
            2: {"title" : "문제 2번", "type": "EI", "A": "E", "B": "I"},
            3: {"title" : "문제 3번", "type": "EI", "A": "E", "B": "I"},
            4: {"title" : "문제 4번", "type": "SN", "A": "S", "B": "N"},
            5: {"title" : "문제 5번", "type": "SN", "A": "S", "B": "N"},
            6: {"title" : "문제 6번", "type": "SN", "A": "S", "B": "N"},
            7: {"title" : "문제 7번", "type": "TF", "A": "T", "B": "F"},
            8: {"title" : "문제 8번", "type": "TF", "A": "T", "B": "F"},
            9: {"title" : "문제 9번", "type": "TF", "A": "T", "B": "F"},
            10: {"title" : "문제 10번", "type": "JP", "A": "J", "B": "P"},
            11: {"title" : "문제 11번", "type": "JP", "A": "J", "B": "P"},
            12: {"title" : "문제 12번", "type": "JP", "A": "J", "B": "P"},
            
        }
        var result = {
            "ISTJ": {"animal": "하마", "explain": "하마설명", "img": "lion.jpg"},
            "ENFP": {"animal": "사자", "explain": "사자설명", "img": "lion.jpg"},
            "ENTJ": {"animal": "호랑이", "explain": "호랑이설명", "img": "lion.jpg"},
            "ENTP": {"animal": "고양이", "explain": "호랑이설명", "img": "lion.jpg"},
            "ENFJ": {"animal": "토끼", "explain": "호랑이설명", "img": "lion.jpg"},
            "ESTJ": {"animal": "강아지", "explain": "호랑이설명", "img": "lion.jpg"},
            "ESTP": {"animal": "햄스터", "explain": "호랑이설명", "img": "lion.jpg"},
            "ISTP": {"animal": "캥거루", "explain": "호랑이설명", "img": "lion.jpg"},
            "INTJ": {"animal": "기린", "explain": "호랑이설명", "img": "lion.jpg"},
            "INFJ": {"animal": "얼룩말", "explain": "호랑이설명", "img": "lion.jpg"},
            "INFP": {"animal": "치타", "explain": "호랑이설명", "img": "lion.jpg"},
            "ESFJ": {"animal": "도마뱀", "explain": "호랑이설명", "img": "lion.jpg"},
            
        }
        function start() {
            $(".start").hide();
            $(".question").show();
            next();
        }
        // 버튼 AB에 클릭해서 점수 저장
        $("#A").click(function(){
            var type = $("#type").val();
            var preValue = $("#"+type).val();
            $("#"+type).val(parseInt(preValue)+1);
            next();
        });
        $("#B").click(function(){
            next();
        });
        // next는 마지막문제를 다 풀었을때 사용되는코드
        function next() {
            if (num == 13) {
                $(".question").hide();
                $(".result").show();
                // 마지막 결과 화면 보여주는 코드 
                var mbti = "";
                // 삼항연산자로 만약 if값이 참일때를 ? 앞에 적음
                ($("#EI").val() < 2) ? mbti = mbti +="I" : mbti+="E";
                ($("SN").val() < 2) ? mbti = mbti +="N" : mbti+="S";
                ($("#TF").val() < 2) ? mbti = mbti +="F" : mbti+="T";
                ($("#JP").val() < 2) ? mbti = mbti +="P" : mbti+="J";
                alert(mbti);
                $("#img").attr("src",result[mbti]["img"]);
                $("#animal").html(result[mbti]["animal"]);
                $("#explain").html(result[mbti]["explain"]);
                // 마지막문제와 마지막문제가 아닐때
            } else {
                $(".progress-bar").attr('style','width: calc(100/12*'+num+'%)');
                // 프로그래스 바 늘어나게하는 코드 
                $("#title").html(q[num]["title"]);
                $("#type").val(q[num]["type"]);
                $("#A").html(q[num]["A"]);
                $("#B").html(q[num]["B"]);
                num++;
            }
        }
    </script> 
    <!-- Sharingbutton Facebook -->
    <a class="resp-sharing-button__link" href="https://facebook.com/sharer/sharer.php?u=http%3A%2F%2Fsharingbuttons.io" target="_blank" rel="noopener" aria-label="Share on Facebook">
        <div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--large"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solidcircle">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 0C5.38 0 0 5.38 0 12s5.38 12 12 12 12-5.38 12-12S18.62 0 12 0zm3.6 11.5h-2.1v7h-3v-7h-2v-2h2V8.34c0-1.1.35-2.82 2.65-2.82h2.35v2.3h-1.4c-.25 0-.6.13-.6.66V9.5h2.34l-.24 2z"/></svg>
        </div>Share on Facebook</div>
    </a>
    
    <!-- Sharingbutton Twitter -->
    <a class="resp-sharing-button__link" href="https://twitter.com/intent/tweet/?text=Super%20fast%20and%20easy%20Social%20Media%20Sharing%20Buttons.%20No%20JavaScript.%20No%20tracking.&amp;url=http%3A%2F%2Fsharingbuttons.io" target="_blank" rel="noopener" aria-label="Share on Twitter">
        <div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--large"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solidcircle">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 0C5.38 0 0 5.38 0 12s5.38 12 12 12 12-5.38 12-12S18.62 0 12 0zm5.26 9.38v.34c0 3.48-2.64 7.5-7.48 7.5-1.48 0-2.87-.44-4.03-1.2 1.37.17 2.77-.2 3.9-1.08-1.16-.02-2.13-.78-2.46-1.83.38.1.8.07 1.17-.03-1.2-.24-2.1-1.3-2.1-2.58v-.05c.35.2.75.32 1.18.33-.7-.47-1.17-1.28-1.17-2.2 0-.47.13-.92.36-1.3C7.94 8.85 9.88 9.9 12.06 10c-.04-.2-.06-.4-.06-.6 0-1.46 1.18-2.63 2.63-2.63.76 0 1.44.3 1.92.82.6-.12 1.95-.27 1.95-.27-.35.53-.72 1.66-1.24 2.04z"/></svg>
        </div>Share on Twitter</div>
    </a>
    
</body>
</html>